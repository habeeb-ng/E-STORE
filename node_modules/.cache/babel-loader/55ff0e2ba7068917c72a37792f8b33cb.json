{"ast":null,"code":"var _jsxFileName = \"/Users/habeebawolumate/Documents/Builds/e-commerce/src/SignUp.js\",\n    _s = $RefreshSig$();\n\nimport { Password } from '@mui/icons-material';\nimport { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';\nimport React, { useState } from 'react';\nimport { auth, db, userColRef } from \"./backend/firebase\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { login } from \"./features/userSlice\";\nimport { addDoc, doc, getDoc, getDocs, setDoc } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignUp() {\n  _s();\n\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [comfirmPassword, setComfirmPassword] = useState(\"\");\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.user.user); // console.log(user);\n  // console.log(auth.currentUser);\n\n  const handleSignUp = eventObj => {\n    eventObj.preventDefault();\n    createUserWithEmailAndPassword(auth, email, password).then(userCredential => {\n      console.log(\"user created \", userCredential.user);\n      updateProfile(auth.currentUser, //here we give the user a name as they signIn\n      {\n        displayName: `${firstName} ${lastName}`\n      }).then(() => {\n        //create a database that has a custom info for the user which includes the cart.\n        setDoc(doc(db, \"Users\", userCredential.user.uid), {\n          fullName: userCredential.user.displayName,\n          userId: userCredential.user.uid,\n          email: userCredential.user.email,\n          cart: []\n        }).catch(err => console.log(err));\n      }).then(() => {\n        getDoc(db, \"Users\", userCredential.user.uid).then(doc => {\n          dispatch(login({\n            fullName: doc.data().fullName,\n            userId: doc.data().userId,\n            email: doc.data().email,\n            cart: doc.data().cart //map the cart into the array\n\n          }));\n        });\n      });\n    }).catch(error => console.log(error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSignUp,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: firstName,\n        onChange: e => {\n          setFirstName(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"First Name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: lastName,\n        onChange: e => {\n          setLastName(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"Last Name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: email,\n        onChange: e => {\n          setEmail(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"Email\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: password,\n        onChange: e => {\n          setPassword(e.target.value);\n        },\n        type: \"password\",\n        placeholder: \"Password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: comfirmPassword,\n        onChange: e => {\n          setComfirmPassword(e.target.value);\n        },\n        type: \"password\",\n        placeholder: \"Comfirm Password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"SignUp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignUp, \"NT6b6Sb0Jjno1CdjSscPPJJqxro=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["Password","createUserWithEmailAndPassword","updateProfile","React","useState","auth","db","userColRef","useDispatch","useSelector","login","addDoc","doc","getDoc","getDocs","setDoc","SignUp","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","comfirmPassword","setComfirmPassword","dispatch","user","state","handleSignUp","eventObj","preventDefault","then","userCredential","console","log","currentUser","displayName","uid","fullName","userId","cart","catch","err","data","error","e","target","value"],"sources":["/Users/habeebawolumate/Documents/Builds/e-commerce/src/SignUp.js"],"sourcesContent":["import { Password } from '@mui/icons-material';\nimport { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';\nimport React, { useState } from 'react'\nimport { auth, db, userColRef } from \"./backend/firebase\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport {login} from \"./features/userSlice\"\nimport { addDoc, doc, getDoc, getDocs , setDoc} from 'firebase/firestore';\nfunction SignUp() {\n    const [firstName, setFirstName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [comfirmPassword, setComfirmPassword] = useState(\"\");\n    const dispatch = useDispatch();\n    const user = useSelector(state => state.user.user);\n    // console.log(user);\n  // console.log(auth.currentUser);\n\n\n  const handleSignUp = (eventObj) => {\n        eventObj.preventDefault();\n        createUserWithEmailAndPassword(auth, email, password)\n            .then((userCredential) => {\n              console.log(\"user created \", userCredential.user)\n              updateProfile(auth.currentUser, //here we give the user a name as they signIn\n              {\n                displayName: `${firstName} ${lastName}`,\n              })\n              .then(() => {\n                  //create a database that has a custom info for the user which includes the cart.\n                setDoc(doc(db, \"Users\", userCredential.user.uid), {\n                  fullName: userCredential.user.displayName,\n                  userId: userCredential.user.uid,\n                  email: userCredential.user.email,\n                  cart: [],\n                })\n                .catch(err => console.log(err))\n              })\n              .then(() => {\n                getDoc(db, \"Users\", userCredential.user.uid)\n                  .then((doc) => {\n                    dispatch(login({\n                      fullName: doc.data().fullName,\n                      userId: doc.data().userId,\n                      email: doc.data().email,\n                      cart: doc.data().cart, //map the cart into the array\n                    }))\n                  })\n              })\n            })\n          .catch((error) => console.log(error))\n    \n    }\n  return (\n    <div>\n        <form onSubmit={handleSignUp}>\n              <input value={firstName} onChange={(e)=>{setFirstName(e.target.value)}} type=\"text\" placeholder=\"First Name\" required /> \n              <input value={lastName} onChange={(e) => { setLastName(e.target.value) }} type=\"text\" placeholder=\"Last Name\" required /> \n              <input value={email} onChange={(e) => { setEmail(e.target.value) }} type=\"text\" placeholder=\"Email\" required /> \n\n              <input value={password} onChange={(e)=>{setPassword(e.target.value)}} type=\"password\" placeholder=\"Password\"  required/>\n              <input value={comfirmPassword} onChange={(e)=>{setComfirmPassword(e.target.value)}} type=\"password\" placeholder=\"Comfirm Password\" required/>\n              \n              <button type='submit'>SignUp</button>\n      </form>\n    </div>\n  )\n}\n\nexport default SignUp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}